---
- name: clone project
  git: 
    repo: https://github.com/Trofogol/sample-http-api.git
    dest: "{{ project_path }}"
- name: prepare python virtual environment for api
  pip: 
    chdir: "{{ project_path }}"
    requirements: requirements.txt
    virtualenv: venv
    virtualenv_python: python3
- name: install uwsgi in virtual environment
  pip: 
    chdir: "{{ project_path }}"
    name: uwsgi
    virtualenv: venv
    virtualenv_python: python3
- name: generate config for uWSGI
  template: 
    src: uwsgi_config.ini.j2
    dest: "{{ project_path }}/uwsgi_config.ini"
...
